<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Suman Adhikari</title>
    <description>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Mon, 18 Jun 2018 19:45:03 +0545</pubDate>
    <lastBuildDate>Mon, 18 Jun 2018 19:45:03 +0545</lastBuildDate>
    <generator>Jekyll v3.7.3</generator>
    
      <item>
        <title>Oracle Grid Infrastructure stack start initiated but failed to complete at crsconfig_lib.pm line 11809</title>
        <description>&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/working.jpg&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;header&gt;
		&lt;h3&gt;Oracle Grid Infrastructure stack start initiated but failed to complete at crsconfig_lib.pm line 11809.&lt;/h3&gt;
&lt;/header&gt;

&lt;p&gt;Well, it has been huge troubleshooting. So I think its worth’s of sharing.&lt;/p&gt;

&lt;p&gt;First, let’s go to the scene how I encounter this issue.&lt;/p&gt;

&lt;p&gt;One of my client’s requirement was to upgrade the Oracle 11gr2 RAC nodes hardware(to new boxes) (2-nodes) with no downtime. So its easy right, at least in Oracle RAC. And I think you guessed it right. It’s simple you can do it in rolling fashion and I planned for the same i.e. first delete any of node,  then configure a new node with the same configuration as of node deleted but in the different box with addNode.sh. Well, there were some minor errors and which were fixed easily but a real headache for me was when running root.sh during migration of the last node. I suffered much for troubleshooting the issue and I will share the issue snip:&lt;/p&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
bash-4.4# /u01/app/11.2.0.4/grid/root.sh
Performing root user operation for Oracle 11g 

The following environment variables are set as:
    ORACLE_OWNER= grid
    ORACLE_HOME=  /u01/app/11.2.0.4/grid

Enter the full pathname of the local bin directory: [/usr/local/bin]: 
Creating /usr/local/bin directory...
   Copying dbhome to /usr/local/bin ...
   Copying oraenv to /usr/local/bin ...
   Copying coraenv to /usr/local/bin ...

Creating /etc/oratab file...
Entries will be added to the /etc/oratab file as needed by
Database Configuration Assistant when a database is created
Finished running generic part of root script.
Now product-specific root actions will be performed.
Using configuration parameter file: /u01/app/11.2.0.4/grid/crs/install/crsconfig_params
Creating trace directory
Installing Trace File Analyzer
User grid has the required capabilities to run CSSD in realtime mode
OLR initialization - successful
Adding Clusterware entries to /etc/inittab
CRS-4402: The CSS daemon was started in exclusive mode but found an active CSS daemon on node node1, number 2, and is terminating
An active cluster was found during exclusive startup, restarting to join the cluster
Oracle Grid Infrastructure stack start initiated but failed to complete at /u01/app/11.2.0.4/grid/crs/install/crsconfig_lib.pm line 11809.
/u01/app/11.2.0.4/grid/perl/bin/perl -I/u01/app/11.2.0.4/grid/perl/lib -I/u01/app/11.2.0.4/grid/crs/install /u01/app/11.2.0.4/grid/crs/install/rootcrs.pl execution failed
bash-4.4# 
  &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;So first I checked the 11809 line in the file crsconfig_lib.pm and found nothing interesting:&lt;/p&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
  if ($is_up) {
    #Also wait for check cluster to work.
    if (!check_service(&quot;cluster&quot;, 120))
    {
       die(&quot;Oracle Grid Infrastructure stack start initiated but failed to complete&quot;);
    }
    trace (&quot;Oracle CRS stack installed and running&quot;);

  } else {
    error (&quot;Timed out waiting for the CRS stack to start.&quot;);
    exit 1;
  }

  return $is_up;
}
  &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;I checked the log for root.sh log file in $ORACLE_HOME/cfgtoollogs/crsconfig and found following error:&lt;/p&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
2018-05-25 15:57:41: Checking the status of cluster
2018-05-25 15:57:46: Executing cmd: /u01/app/11.2.0.4/grid/bin/crsctl check cluster -n node1
2018-05-25 15:57:46: Checking the status of cluster
2018-05-25 15:57:51: Executing cmd: /u01/app/11.2.0.4/grid/bin/crsctl check cluster -n node1
2018-05-25 16:08:00: Checking the status of cluster
2018-05-25 16:08:05: Executing cmd: /u01/app/11.2.0.4/grid/bin/crsctl check cluster -n node1
2018-05-25 16:08:05: Checking the status of cluster
2018-05-25 16:08:10: Executing cmd: /u01/app/11.2.0.4/grid/bin/crsctl check cluster -n node1
2018-05-25 16:08:10: Checking the status of cluster
2018-05-25 16:08:15: ###### Begin DIE Stack Trace ######
2018-05-25 16:08:15:     Package         File                 Line Calling
2018-05-25 16:08:15:     --------------- -------------------- ---- ----------
2018-05-25 16:08:15:  1: main            rootcrs.pl            393 crsconfig_lib::dietrap
2018-05-25 16:08:15:  2: crsconfig_lib   crsconfig_lib.pm     11809 main::__ANON__
2018-05-25 16:08:15:  3: crsconfig_lib   crsconfig_lib.pm     1369 crsconfig_lib::wait_for_stack_start
2018-05-25 16:08:15:  4: crsconfig_lib   crsconfig_lib.pm     1242 crsconfig_lib::start_cluster
2018-05-25 16:08:15:  5: main            rootcrs.pl            864 crsconfig_lib::perform_start_cluster
2018-05-25 16:08:15: ####### End DIE Stack Trace #######

2018-05-25 16:08:15: 'ROOTCRS_STACK' checkpoint has failed
2018-05-25 16:08:15: Running as user grid: /u01/app/11.2.0.4/grid/bin/cluutil -ckpt -oraclebase /u01/app/grid -writeckpt -name ROOTCRS_STACK -state FAIL
2018-05-25 16:08:15: s_run_as_user2: Running /bin/su grid -c ' /u01/app/11.2.0.4/grid/bin/cluutil -ckpt -oraclebase /u01/app/grid -writeckpt -name ROOTCRS_STACK -state FAIL '
2018-05-25 16:08:16: Removing file /tmp/zbaCay7eP
2018-05-25 16:08:16: Successfully removed file: /tmp/zbaCay7eP
2018-05-25 16:08:16: /bin/su successfully executed

2018-05-25 16:08:16: Succeeded in writing the checkpoint:'ROOTCRS_STACK' with status:FAIL
2018-05-25 16:08:16: CkptFile: /u01/app/grid/Clusterware/ckptGridHA_cg1.xml
2018-05-25 16:08:16: Sync the checkpoint file '/u01/app/grid/Clusterware/ckptGridHA_cg1.xml'
2018-05-25 16:08:16: Sync '/u01/app/grid/Clusterware/ckptGridHA_cg1.xml' to the physical disk
  &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;And looking the log file I found the root.sh hanged running the command /u01/app/11.2.0.4/grid/bin/crsctl check cluster -n node1 as this was repeated many times in logfile.&lt;/p&gt;

&lt;p&gt;Searching in google and Oracle knowledge base I found docs which are helpful none of the documents accompany my issue.&lt;/p&gt;

&lt;p&gt;Then I went for cluster log file: alertnode1.log&lt;/p&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;

[cssd(18481552)]CRS-1605:CSSD voting file is online: /dev/rhdisk6; details in /u01/app/11.2.0.4/grid/log/node1/cssd/ocssd.log. 
2018-05-28 02:40:07.728: 
[cssd(18481552)]CRS-1601:CSSD Reconfiguration complete. Active nodes are node1 node2 . 
2018-05-28 02:40:10.011: 
[ctssd(18874768)]CRS-2403:The Cluster Time Synchronization Service on host node1 is in observer mode. 
2018-05-28 02:40:10.298: 
[ctssd(18874768)]CRS-2407:The new Cluster Time Synchronization Service reference node is host node2. 
2018-05-28 02:40:10.299: 
[ctssd(18874768)]CRS-2401:The Cluster Time Synchronization Service started on host node1. 
2018-05-28 02:40:22.319: 
[ctssd(18874768)]CRS-2409:The clock on host node1 is not synchronous with the mean cluster time. No action has been taken as the Cluster Time Synchronization Service is running in observer mode.
[client(18284818)]CRS-10001:28-May-18 02:40 ACFS-9391: Checking for existing ADVM/ACFS installation. 
[client(18284820)]CRS-10001:28-May-18 02:40 ACFS-9392: Validating ADVM/ACFS installation files for operating system. 
[client(18284822)]CRS-10001:28-May-18 02:40 ACFS-9393: Verifying ASM Administrator setup. 
[client(18284824)]CRS-10001:28-May-18 02:40 ACFS-9308: Loading installed ADVM/ACFS drivers. 
[client(18284830)]CRS-10001:28-May-18 02:40 ACFS-9327: Verifying ADVM/ACFS devices. 
[client(18284834)]CRS-10001:28-May-18 02:40 ACFS-9156: Detecting control device '/dev/asm/.asm_ctl_spec'. 
[client(18284840)]CRS-10001:28-May-18 02:40 ACFS-9156: Detecting control device '/dev/ofsctl'. 
[client(18284844)]CRS-10001:28-May-18 02:40 ACFS-9322: completed 
2018-05-28 02:40:48.233: 
[crsd(24707482)]CRS-1012:The OCR service started on node node1. 
2018-05-28 03:10:30.670: 
[ctssd(18874768)]CRS-2409:The clock on host node1 is not synchronous with the mean cluster time. No action has been taken as the Cluster Time Synchronization Service is running in observer mode. 
  &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;Where I found everything is normal the node is able to find the cluster detail and configuration but the cluster servers are not getting up, why?? Probably I don’t have an
answer at that time. I begin to look in every log file in $ORACLE_HOME/log/node1 but every error I found in logs and searched in google and oracle MOS all were bootless.
I was totally fatigued didn’t know where to move next.&lt;/p&gt;

&lt;p&gt;Then I checked the init resources with regard to Oracle RAC:&lt;/p&gt;
&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
bash-4.4$ crsctl stat res -t -init
--------------------------------------------------------------------------------
NAME           TARGET  STATE        SERVER                   STATE_DETAILS       
--------------------------------------------------------------------------------
Cluster Resources
--------------------------------------------------------------------------------
ora.asm
      1        ONLINE  ONLINE       node1                      Started             
ora.cluster_interconnect.haip
      1        ONLINE  ONLINE       node1                                          
ora.crf
      1        ONLINE  ONLINE       node1                                          
ora.crsd
      1        ONLINE  INTERMEDIATE node1                                          
ora.cssd
      1        ONLINE  ONLINE       node1                                          
ora.cssdmonitor
      1        ONLINE  ONLINE       node1                                          
ora.ctssd
      1        ONLINE  ONLINE       node1                      OBSERVER            
ora.diskmon
      1        OFFLINE OFFLINE                                                   
ora.drivers.acfs
      1        ONLINE  ONLINE       node1                                          
ora.evmd
      1        ONLINE  INTERMEDIATE node1                                          
ora.gipcd
      1        ONLINE  ONLINE       node1                                          
ora.gpnpd
      1        ONLINE  ONLINE       node1                                          
ora.mdnsd
      1        ONLINE  ONLINE       node1                                          
bash-4.4$ 
  &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;Whoo!! I found ora.crsd and ora.evmd were in the intermediate state. I think it would be a good start to look log files for the respective daemon. Hmmm there were some errors but searching against then was again bootless.&lt;/p&gt;

&lt;p&gt;I was now struggling much that I begin to crosscheck if any prerequisites I have missed. I even asked some silly questions to the system admin guys and I still have their sneering smile on my mind.&lt;/p&gt;

&lt;p&gt;So again I start looking and logs and start to mine them. I looked and looked to all logs ocssd.log, GIPC.log, agent logs and all what ever i found. I looked them so closely that I looked for every string like error, failed, exception, cannot etc with words with negative connotation and searched to google and knowledgebase for solution. But none of them lead me to success. But, I found following in the crsd.log file and found below snip and thought for a while what the message is conveying.&lt;/p&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
destroy interface 111939a30 { host 'node2', haName '674a-6c55-9728-1e49', local 111933bb0, ip '10.0.10.6:41657', subnet '10.0.10.0', mask '255.255.255.0', mac '', ifname '', numRef 0, numFail 0, idxBoot 0, flags 0x226 } 
2018-05-28 02:42:16.264: [GIPCHGEN][2571] gipchaNodeAddInterface: adding interface information for inf 111939a30 { host 'node2', haName '674a-6c55-9728-1e49', local 0, ip '10.0.10.6:41661', subnet '10.0.10.0', mask '255.255.255.0', mac '', ifname '', numRef 0, numFail 0, idxBoot 0, flags 0x2 } 
2018-05-28 02:42:17.260: [GIPCHTHR][2314] gipchaWorkerCreateInterface: created remote interface for node 'node2', haName '674a-6c55-9728-1e49', inf 'udp://10.0.10.6:41661' 
2018-05-28 02:42:17.260: [GIPCHGEN][2314] gipchaWorkerAttachInterface: Interface attached inf 111939a30 { host 'node2', haName '674a-6c55-9728-1e49', local 111933bb0, ip '10.0.10.6:41661', subnet '10.0.10.0', mask '255.255.255.0', mac '', ifname '', numRef 0, numFail 0, idxBoot 0, flags 0x6 } 
2018-05-28 02:42:19.271: [GIPCHGEN][2571] gipchaInterfaceDisable: disabling interface 111939a30 { host 'node2', haName '674a-6c5 

  &lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;From the log file, I conclude that node1 is recognizing node2 but it’s not communicating with node2. Then I start for the solution for node communication failure and intermediate state of resource crsd and evmd. So this was the turning point in my troubleshooting. I found whenever the resource crsd is in the intermediate state, everyone’s first step is to kill the crsd.bin process as they would span automatically. &lt;strong&gt; So killing the crsd.bin process in both nodes lead to the end of the troubleshooting&lt;/strong&gt; the crsd and evmd were online. Thereafter everything went normal and I think its worth’s sharing.&lt;/p&gt;

&lt;style&gt;
	.image.featured{
		display: inline;
	}
&lt;/style&gt;

</description>
        <pubDate>Thu, 31 May 2018 18:05:00 +0545</pubDate>
        <link>http://localhost:4000/upgrade/2018/05/31/addnode-deletenode-oraclerac11g.html</link>
        <guid isPermaLink="true">http://localhost:4000/upgrade/2018/05/31/addnode-deletenode-oraclerac11g.html</guid>
        
        
        <category>upgrade</category>
        
      </item>
    
      <item>
        <title>Some hands/tricks on with Oracle export/import</title>
        <description>&lt;p&gt;&lt;a href=&quot;#&quot; class=&quot;image featured&quot;&gt; &lt;img src=&quot;/images/expdp-impdp.png&quot; alt=&quot;&quot; /&gt; &lt;/a&gt;&lt;/p&gt;

&lt;header&gt;
		&lt;h3&gt;Some hands on with Oracle export/import&lt;/h3&gt;
&lt;/header&gt;

&lt;p&gt;So today I will share some tips/tricks with reagrding to Oracle export/import(expdp/impdp). We will not be discussing the lagacy exp/imp here. We will go through some tips and 
tricks helpful in different senarios during import or export.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Situation 1:&lt;/strong&gt;
I want to export a user schema lets say BANKUSR from production to test for devlopment for further testing purpose.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Challanges:&lt;/strong&gt;&lt;/p&gt;
&lt;ol type=&quot;1&quot; style=&quot;margin-left: 2em; list-style-type: decimal; margin-top: -1.5em;&quot;&gt;
&lt;li&gt;The test env already have BANKUSR schema&lt;/li&gt;
&lt;li&gt;The physical structure of test db instance is different from prod db instance&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;
Whenever we are in above mentioned situation, we can trick it by using appropriate parameter like REMAN_SCHEMA, REMAP_TABLESPACE.&lt;/p&gt;

&lt;p&gt;Also there are some few remap parameters which i would like to discuss here:&lt;/p&gt;

&lt;p&gt;&lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;remap_data&lt;/strong&gt;: It can we used for permanent data masking during logical restore, which will take the sources original value of the designated column and returns a remapped value 
that will replace the original value in the dump file but you have to develop a masking function and specify explictly.&lt;/p&gt;

&lt;p&gt;The basic syntax is:
&lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;REMAP_DATA=[schema.]tablename.column_name:[schema.]pkg.function&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;If you want more please refer to like : &lt;a href=&quot;https://docs.oracle.com/database/121/SUTIL/GUID-B1D13216-93D3-4FFC-A0BB-082E133FD2B9.htm#SUTIL861&quot;&gt;Oracle Logical Backup.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;remap_datafile&lt;/strong&gt;:
This parameter is greatly helpful when you are doing a whole database migration and are not interested to directory structure same as previous you can do it 
by providing appropirate parameters.&lt;/p&gt;

&lt;p&gt;The below listed parameters more general and widely used:&lt;/p&gt;

&lt;p&gt;&lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;remap_schema&lt;/strong&gt;: Use when source and destination schema name are/want different&lt;/p&gt;

&lt;p&gt;&lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;remap_table&lt;/strong&gt;: Use when source and destination table name are/want be different&lt;/p&gt;

&lt;p&gt;&lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;remap_tablespace &lt;/strong&gt;: Use when source and destination tablespace are/want or are  different&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Situation 2:&lt;/strong&gt;
You are given a dump file from production and told to restore.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Challanges:&lt;/strong&gt;&lt;/p&gt;
&lt;ol type=&quot;1&quot; style=&quot;margin-left: 2em; list-style-type: decimal; margin-top: -1.5em;&quot;&gt;
&lt;li&gt; You are not known whether its done by expdp or lagacy emp&lt;/li&gt;
&lt;li&gt; You are not given physical/logical structure details&lt;/li&gt;
&lt;li&gt; You are not given the schema user details&lt;/li&gt;
&lt;li&gt; You are not known the database characterset&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;
So few challanges right, what should one go for next. As enumerated above we will also make our action plan according to them.&lt;/p&gt;

&lt;p&gt;1) Identify whether it was done with expdp/exp 
So our first step would be to identify the tool that was used to take logical backup. We can do it by using unix command strings &amp;amp; head.&lt;/p&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black; margin-top: -3.5em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
[oracle@oradr ~]$ strings appmeta.dmp | head -5
&quot;SYS&quot;.&quot;SYS_EXPORT_SCHEMA_01&quot;
x86_64/Linux 2.4.xx
orcl
US7ASCII
11.02.00.00.00
  &lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;So if you encounter similar like &lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;EXPORT_SCHEMA&lt;/strong&gt;, then we can conclude it was taken with expdp otherwise was lagacy exp.&lt;/p&gt;

&lt;p&gt;2) Identify the database characterset
With above command you can also get the characterset of the source database as in above case is &lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;US7ASCII&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;3) Identifying the schema name and logical structures
The step is simple, we can do it by generating ddl first. We do not need to know schema name, logical structure of source database where the dump file was exported from in prior.&lt;/p&gt;
&lt;hr /&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black; margin-top: -2.5em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
[oracle@oradr ~]$ impdp dumpfile=hr.dmp sqlfile=hr.sql directory=dump_dir

Import: Release 11.2.0.4.0 - Production on Mon Jun 18 03:33:21 2018

Copyright (c) 1982, 2011, Oracle and/or its affiliates.  All rights reserved.

Username: /as sysdba

Connected to: Oracle Database 11g Enterprise Edition Release 11.2.0.4.0 - 64bit Production
With the Partitioning, Oracle Label Security, OLAP, Data Mining,
Oracle Database Vault and Real Application Testing options
Master table &quot;SYS&quot;.&quot;SYS_SQL_FILE_FULL_01&quot; successfully loaded/unloaded
Starting &quot;SYS&quot;.&quot;SYS_SQL_FILE_FULL_01&quot;:  /******** AS SYSDBA dumpfile=hr.dmp sqlfile=hr.sql directory=dump_dir 
Processing object type SCHEMA_EXPORT/USER
Processing object type SCHEMA_EXPORT/SYSTEM_GRANT
Processing object type SCHEMA_EXPORT/ROLE_GRANT
Processing object type SCHEMA_EXPORT/DEFAULT_ROLE
Processing object type SCHEMA_EXPORT/PRE_SCHEMA/PROCACT_SCHEMA
Processing object type SCHEMA_EXPORT/SEQUENCE/SEQUENCE
Processing object type SCHEMA_EXPORT/TABLE/TABLE
Processing object type SCHEMA_EXPORT/TABLE/GRANT/OWNER_GRANT/OBJECT_GRANT
Processing object type SCHEMA_EXPORT/TABLE/COMMENT
Processing object type SCHEMA_EXPORT/PROCEDURE/PROCEDURE
Processing object type SCHEMA_EXPORT/PROCEDURE/ALTER_PROCEDURE
Processing object type SCHEMA_EXPORT/TABLE/INDEX/INDEX
Processing object type SCHEMA_EXPORT/TABLE/CONSTRAINT/CONSTRAINT
Processing object type SCHEMA_EXPORT/TABLE/INDEX/STATISTICS/INDEX_STATISTICS
Processing object type SCHEMA_EXPORT/VIEW/VIEW
Processing object type SCHEMA_EXPORT/TABLE/CONSTRAINT/REF_CONSTRAINT
Processing object type SCHEMA_EXPORT/TABLE/TRIGGER
Processing object type SCHEMA_EXPORT/TABLE/STATISTICS/TABLE_STATISTICS
Job &quot;SYS&quot;.&quot;SYS_SQL_FILE_FULL_01&quot; successfully completed at Mon Jun 18 03:33:29 2018 elapsed 0 00:00:03

[oracle@oradr ~]$ 
  &lt;/code&gt;
&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;Afer generating sql only, we will use some unix command like cat, grep and sort to find the schema name.&lt;/p&gt;
&lt;hr /&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black; margin-top: -2.5em;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
[oracle@oradr ~]$ cat hr.sql | grep 'CREATE USER'
 CREATE USER &quot;HR&quot; IDENTIFIED BY VALUES 'S:891636E9E2A56E429380E30CBCF20B678EA0CCE21F41CC3C50F4693E9C8F;4C6D73C3E8B0F0DA'
[oracle@oradr ~]$ 
  &lt;/code&gt;
&lt;/pre&gt;
&lt;hr /&gt;

&lt;p&gt;After knowing the schema name then we will find what tablespace the schema uses.&lt;/p&gt;
&lt;hr /&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black; margin-top: -2.5em;&quot;&gt;
	&lt;code class=&quot;bash&quot;&gt;
[oracle@oradr ~]$ cat hr.sql | grep TABLESPACE| sort -u
      DEFAULT TABLESPACE &quot;USERS&quot;
GRANT UNLIMITED TABLESPACE TO &quot;HR&quot;;
  TABLESPACE &quot;EXAMPLE&quot; 
  TABLESPACE &quot;EXAMPLE&quot; ;
  TABLESPACE &quot;EXAMPLE&quot; PARALLEL 1 ;
      TEMPORARY TABLESPACE &quot;TEMP&quot;;
[oracle@oradr ~]$ 
  &lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Situation 3:&lt;/strong&gt;
You are doing a import, what would you need to know and consider before starting job.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Challanges:&lt;/strong&gt;&lt;/p&gt;
&lt;ol type=&quot;1&quot; style=&quot;margin-left: 2em; list-style-type: decimal; margin-top: -1.5em;&quot;&gt;
&lt;li&gt; How to monitor import jobs, if the dump file is enough big.&lt;/li&gt;
&lt;li&gt; Can you parallelize the import job?&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;
During import job, its good practice to monitor how much space are available on destination database, which queries should i use to monitor jobs or logs to look for, do i also need addition space except in database.&lt;/p&gt;

&lt;p&gt;If there is not enough in tablespace, make sure there is enough space at database level. You can do it by increasing size or adding new datafiles to respective tablespaces. Also one sould not forget to monitor the database alert log.&lt;/p&gt;

&lt;p&gt;In addition if your destination database is running in archivelog mode you should regularly monitor the mountpoint where archivelogs are archived.&lt;/p&gt;

&lt;p&gt;For importing huge size dumps, generally it is good practice to run the job by creating a shell script and running it on background using unix command nohup.&lt;/p&gt;

&lt;p&gt;One can monitor the status of import job by running the following query:&lt;/p&gt;
&lt;hr /&gt;

&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black; margin-top: -2.5em;&quot;&gt;
	&lt;code class=&quot;bash&quot;&gt;
SELECT b.username, a.sid, b.opname, b.target, round(b.SOFAR*100/b.TOTALWORK,0) || '%' as &quot;%DONE&quot;, b.TIME_REMAINING,
to_char(b.start_time,'YYYY/MM/DD HH24:MI:SS') start_time
FROM v$session_longops b, v$session a
WHERE a.sid = b.sid ORDER BY 6;
  &lt;/code&gt;
&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;The import/export jobs can be parallelized using the flag &lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;PARALLEL&lt;/strong&gt; and providing appropriate values, but one should consider the no. of CPU on the box. The parallelism also depends on the size of dump file, like specifying &lt;strong style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;PARALLEL=10&lt;/strong&gt; for 1GB won’t perform job in 10 degree parallelism. The basic unit storage  size for parallelism is 250MB. Checking box’s CPU and memory usage is better during the whole job operation.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;
The above described situation/tricks are basic guidelines and tricks which will will be helpful in most of the scenarios and if you want more you can visit the offical Oracle doc homepage.&lt;/p&gt;
</description>
        <pubDate>Thu, 31 May 2018 18:05:00 +0545</pubDate>
        <link>http://localhost:4000/unixdbatools/2018/05/31/export-import-tricks.html</link>
        <guid isPermaLink="true">http://localhost:4000/unixdbatools/2018/05/31/export-import-tricks.html</guid>
        
        
        <category>unixdbatools</category>
        
      </item>
    
      <item>
        <title>Basic Commands Every Unix DBA Should Know</title>
        <description>&lt;p&gt;&lt;a href=&quot;#&quot; class=&quot;image featured&quot;&gt; &lt;img src=&quot;/images/cmdwordcloud.png&quot; alt=&quot;&quot; /&gt; &lt;/a&gt;&lt;/p&gt;

&lt;header&gt;
		&lt;h3&gt;O/S specific commands (Unix)&lt;/h3&gt;
&lt;/header&gt;
&lt;p&gt; Here I will discuss some important Unix commands that every Unix DBA's should be familiar with. Though I am not prioritizing the commands but I think its good to know them all.
&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;1. tail&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;So here comes our first command tail. This command is basically used to display last given lines of a file. By default, tail will output the last 10 lines of its input 
to the standard output. Though the amount of output lines can be adjusted as per our need using appropriate flags. I basically use this command for real time reporting and 
monitoring when ever i am configuring/maintaining/installing a new component in a unix box. I will give some small demo too for using the appropriate syntax:&lt;/p&gt;

&lt;p style=&quot; margin-bottom: -1em;&quot;&gt;Using default tail:&lt;/p&gt;
&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
[oracle@test trace]$ tail alert_test.log
Archived Log entry 23340 added for thread 1 sequence 10608 ID 0x21188f06 dest 1:
Tue Jun 05 02:00:00 2018
Closing scheduler window
Closing Resource Manager plan via scheduler window
Clearing Resource Manager plan via parameter
Tue Jun 05 06:05:39 2018
Thread 1 advanced to log sequence 10610 (LGWR switch)
  Current log# 2 seq# 10610 mem# 0: /oradata/test/redo02.log
Tue Jun 05 06:05:40 2018
Archived Log entry 23341 added for thread 1 sequence 10609 ID 0x21188f06 dest 1:
[oracle@test trace]$
  &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;What if you want to view only two last lines. You can do it by specifying &lt;strong&gt;-2&lt;/strong&gt; immediately after tail command and file to monitor. You can specify any &lt;strong&gt;n&lt;/strong&gt; number of lines where n can be any values 1, 200, 5000 etc. But remember if you file is of big enough you should consider your box's resource.&lt;/p&gt;

&lt;p style=&quot; margin-bottom: -1em;&quot;&gt;Again What if you want to view only 5 last lines and thereafter realtime monitoring. You can do it by specifying &lt;strong&gt;-5f&lt;/strong&gt; immediately after tail command and file to monitor.&lt;/p&gt;
&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
[oracle@test trace]$ tail -5f alert_test.log
Setting Resource Manager plan DEFAULT_MAINTENANCE_PLAN via parameter
Tue Jun 05 22:00:00 2018
Starting background process VKRM
Tue Jun 05 22:00:00 2018
VKRM started with pid=39, OS id=31838
  &lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;2. head&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;&lt;/p&gt;
&lt;p style=&quot; margin-bottom: -1em;&quot;&gt;&lt;strong&gt;head&lt;/strong&gt; command is another useful command for Unix DBA's. It will output the first n part of files given to it via standard input to standard output. 
By default head returns the first ten lines of each file that it is given. You can also head multiple files at once too. You can have reference as below:&lt;/p&gt;
&lt;pre style=&quot;overflow: auto; font-family: monospace; font-size: 0.8em; color: black;&quot;&gt;
&lt;code class=&quot;bash&quot;&gt;
[oracle@test trace]$ head -5 alert_test.log
Mon Jan 05 17:45:59 2015
Errors in file /u01/app/oracle/diag/rdbms/test/test/trace/test_j000_31350.trc:
ORA-12012: error on auto execute of job &quot;EXFSYS&quot;.&quot;RLM$SCHDNEGACTION&quot;
ORA-04045: errors during recompilation/revalidation of NU_LIVE_31_MAR.TRG_MFIN_LOGOFF
ORA-01031: insufficient privileges
[oracle@test trace]$

[oracle@test trace]$ head alert_test.log test_mmon_3000.trm
==&amp;gt; alert_test.log &amp;lt;==
Mon Jan 05 17:45:59 2015
Errors in file /u01/app/oracle/diag/rdbms/test/test/trace/test_j000_31350.trc:
ORA-12012: error on auto execute of job &quot;EXFSYS&quot;.&quot;RLM$SCHDNEGACTION&quot;
ORA-04045: errors during recompilation/revalidation of NU_LIVE_31_MAR.TRG_MFIN_LOGOFF
ORA-01031: insufficient privileges
Errors in file /u01/app/oracle/diag/rdbms/test/test/trace/test_j000_31350.trc:
ORA-04045: errors during recompilation/revalidation of NU_LIVE_31_MAR.TRG_MFIN_LOGOFF
ORA-01031: insufficient privileges
ORA-12012: error on auto execute of job &quot;EXFSYS&quot;.&quot;RLM$SCHDNEGACTION&quot;
ORA-04045: errors during recompilation/revalidation of NU_LIVE_31_MAR.TRG_MFIN_LOGOFF

==&amp;gt; test_mmon_3000.trm &amp;lt;==
@2|2|XJ8eGcq32&quot;3000|test|
M/XJ8eGcq32~I1Q2
3?R2~rJ
M?lW2eGcq32~B8b1
J?bh81I~Ub1
J?HYAvH~Ub1
J?zlb4I~1b1
J?MhS4I~Ub1
J?oZN4I~Ub1
J?f+e4I~1b1
[oracle@test trace]$
  &lt;/code&gt;
&lt;/pre&gt;
</description>
        <pubDate>Thu, 31 May 2018 18:05:00 +0545</pubDate>
        <link>http://localhost:4000/unixdbacmd/2018/05/31/unix-dba-cmd.html</link>
        <guid isPermaLink="true">http://localhost:4000/unixdbacmd/2018/05/31/unix-dba-cmd.html</guid>
        
        
        <category>unixdbacmd</category>
        
      </item>
    
      <item>
        <title>Migration of database with 2k block size to 8k</title>
        <description>&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/2k-8k-mig-banner.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;header&gt;
		&lt;h3&gt;A detailed note/hands on for changing database bock size parameter.&lt;/h3&gt;
&lt;/header&gt;

&lt;p&gt;The parameter &lt;strong&gt;DB_BLOCK_SIZE&lt;/strong&gt; is one of the critical and important factor to considered during database creation. As This parameter can be set and changed once and only during creation of database. The incorrect choice of this parameter may lead to unnecessary performance burden on database server. Starting Oracle 9i release, each tablespace can have a different block size with a mandatory separate cache memory(i.e. defined by setting parameter DB_nK_CACHE_SIZE), thus giving a relief for criticality for choice of database block-size. But the point we just discussed is just a relief it’s not truly a solution. Hence a database must be rebuild to change the DB_BLOCK_SIZE parameter. The larger value for DB_BLOCK_SIZE results less I/O as more data resides in a single block but consumes more memory, in contrast smaller value lets to withdraw single records faster and saves memory. The choice of &lt;strong&gt;DB_BLOCK_SIZE&lt;/strong&gt; parameters vary from environment to environment but must commonly used value is 8k.&lt;/p&gt;

&lt;p&gt;Now lets us consider we have a database with db_blcok_size 2k and we are facing unnecessary performance issues and we decided to change our 2k to 8k. So what are the viable options we can choose to carry out this task with less downtime.&lt;/p&gt;

&lt;p&gt;We can accomplish this task using Oracle Golden Gate, Materialized vies and Transportable Tablespace.&lt;/p&gt;

&lt;p&gt;In this article we will be focusing the method using Transportable Tablespace in conjunction with DBMS_REDEFINITION feature. We will go with enumerating each step, with code snippets and details.&lt;/p&gt;

&lt;p&gt;In nutshell our plan will be creating a new Database with in the same server (let’s call it as destination database) with 8k block size. Create new 8k tablespaces within 2k database (let’s call it as source database). Then migrate all the objects from 2k tablespace (of source database) to 8k tablespaces (of source database) using DBMS_REDEFINITION. With successful of that will export application schema metadata without table and import to destination 8k database (destination). Finally export 8k tablespace and import 8k tablespaces in the 8k database.&lt;/p&gt;

&lt;p&gt;Before getting our hands dirty, first lets describe our environment.&lt;/p&gt;

&lt;ul style=&quot;list-style-type:disc; margin-left: 2em&quot;&gt;
&lt;li&gt;Our host environment is OEL 6.4&lt;/li&gt;
&lt;li&gt;Our database version is 11.2.0.4&lt;/li&gt;
&lt;li&gt;No Advanced Security Options are enabled&lt;/li&gt;
&lt;li&gt;Database Server Edition is Enterprise Edition&lt;/li&gt;
&lt;li&gt;Application User in database is one and only HR&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 1&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
As a first step it’s good to be ensure that valid full backup of database and it not found its most recommend to have one.&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 2&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
A new database instance with 8k block size is created in same server with &lt;strong&gt;identical character sets&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 3&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
All application specific schemas are listed with consulting application team and tablespaces that holding application schema data are identified. With identification of schema and tablespaces the respective tablespaces with 8k block size are created with extension 8k i.e if tablespace name is users, the 8k block size tablespace are created as users8k. Before creating 8k tablespaces we need to set db_8k_cache_size parameter otherwise we will get ORA-29339 signaled during:  while creating tablespaces with 8k block size. As the database has only one application user HR and only one tablespace user we will only create user8k tablespace with 8k block size.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade1.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 4&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
Our next step will be copying only structure of all application tables to newly created 8k tablespaces with 8k extension i.e if there is employee there with be respective table name employee8k table in 8k tablespace. We will user script to perform this task and link to the script will be given below at end of step. The script will automatically generate scripts to move tables from 2k to respective 8k tablespaces and execute also.&lt;/p&gt;

&lt;p&gt;With execution of script copytableDef.sh it generates two file as shown in snapshots for verification.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade2.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;With execution of script copytableDef.sh new tables are created in respective 8k tablespaces. 
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade3.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Please refer to link &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/copytableDef.sh&quot;&gt;copytableDef.sh&lt;/a&gt; for scripts.&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 5&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
The table redefinition prerequisite is checked and verified using DBMS_REDEFINITION.Please refer to Oracle documentation page to read about &lt;a href=&quot;https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/d_redefi.htm&quot;&gt;DBMS_REDEFINITION&lt;/a&gt;. The verification is done by using script mig2K-8K.sh and it can be download from &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/mig2K-8K.sh&quot;&gt;github&lt;/a&gt;. The verification of script can be done by checking respective log files as in snapshots.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade4.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 6&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
Now verifying the redefinition status we can now redefine application tables residing to 2k tablespaces to respective tables *8k residing on 8k tablespaces and sync. We will also be using script here to perform the task. The script &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/startReDef.sh&quot;&gt;startReDef.sh&lt;/a&gt; does the following tasks for each application tables:&lt;/p&gt;

&lt;ul style=&quot;list-style-type:disc; margin-left: 2em&quot;&gt;
&lt;li&gt;start redefining table using ROW_ID&lt;/li&gt;
&lt;li&gt;copy all dependent objects related to table and report if any errors&lt;/li&gt;
&lt;li&gt;with successful redefinition and copying data final sync the data between source and target tables&lt;/li&gt;
&lt;li&gt;drop the interim *8k table&lt;/li&gt;
&lt;li&gt;purge the recycle bin&lt;/li&gt;
&lt;li&gt;rebuild all indexes online&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;First let’s capture where the currently the objects are as in snapshot below:
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade5.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Then lets execute the &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/startReDef.sh&quot;&gt;startReDef.sh&lt;/a&gt; script and view the log files.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade6.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
At last let’s verify the once again.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade7.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 7&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
We will export the application specific metadata excluding tables for application schemas using expdp in script &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/expAppSchema.sh&quot;&gt;expAppSchema.sh&lt;/a&gt;.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade10.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Creating application schema user in destination db instance with 8k block size.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade11.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Now let’s import the metadata to the destination instance with 8k block size using script &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/impAppSchema.sh&quot;&gt;impAppSchema.sh&lt;/a&gt;.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade12.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
The warnings can be ignored and will be resolved after compilation after import of transportable tablespae.&lt;/p&gt;

&lt;p&gt;Now let’s verity the import of objects in in destination instance.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade13.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 8&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
Now the system outage starts. In this step we will export meta data of the application specific schema excluding tables again we will perform this with script &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/expdpTTS.sh&quot;&gt;expdpTTS.sh&lt;/a&gt;, which will perform following tasks:&lt;/p&gt;

&lt;ul style=&quot;list-style-type:disc; margin-left: 2em&quot;&gt;
&lt;li&gt;Automatically select 8k block size tablespaces holding application application schema data&lt;/li&gt;
&lt;li&gt;Change the status of selected tablespaces to read only status&lt;/li&gt;
&lt;li&gt;Generate expdp script for transportable space&lt;/li&gt;
&lt;li&gt;Run the generated script and take expdp for TTS&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let’s run the &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/expdpTTS.sh&quot;&gt;expdpTTS.sh&lt;/a&gt;
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade8.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Also verify the tablespace status.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade9.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span&gt;
	&lt;strong&gt;Step: 9&lt;/strong&gt;
	&lt;br /&gt;
&lt;/span&gt;
In this step we will perform plug all Transported tablespace to database with 8k block size using script &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/impdpTTS.sh&quot;&gt;impdpTTS.sh&lt;/a&gt;, which will perform following tasks:&lt;/p&gt;
&lt;ul style=&quot;list-style-type:disc; margin-left: 2em&quot;&gt;
&lt;li&gt;Generate transportable tablespace script&lt;/li&gt;
&lt;li&gt;Shutdown the source database instance i.e db with block size 2k&lt;/li&gt;
&lt;li&gt;Run the transportable tablespace script against 8k block size database&lt;/li&gt;
&lt;li&gt;Verify the import and data in destination 8k block size&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let’s run the script &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration/blob/master/impdpTTS.sh&quot;&gt;impdpTTS.sh&lt;/a&gt; and verify its output.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade14.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;View objects in destination database instance i.e. db with block size 8k.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade15.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Verify the tablespace status in destination database instance i.e. db with block size 8k.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade16.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Verify the objects status in destination database instance i.e. db with block size 8k.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade17.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;If any invalid objects lets compile all inavlid objects with utlrp.sql
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade18.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Finally let’s verify the objects status.
&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/upgrade/upgrade19.png&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Hmm now it’s done. :-) .&lt;/p&gt;

&lt;p&gt;You can get all the source codes of scripts used in Github repository &lt;a href=&quot;https://github.com/dralmostright/2k-8k-migration&quot;&gt;2k-8k-migration&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;&lt;/p&gt;
&lt;style&gt;
	.image.featured{
		display: inline;
	}
&lt;/style&gt;

</description>
        <pubDate>Fri, 23 Mar 2018 16:21:23 +0545</pubDate>
        <link>http://localhost:4000/upgrade/2018/03/23/migration-twok-eightk.html</link>
        <guid isPermaLink="true">http://localhost:4000/upgrade/2018/03/23/migration-twok-eightk.html</guid>
        
        
        <category>upgrade</category>
        
      </item>
    
      <item>
        <title>Morbi a Semper</title>
        <description>&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/pic03.jpg&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Morbi a semper justo, non eleifend elit. Sed nulla nulla, porttitor nec volutpat eu, pulvinar vitae augue. Curabitur tempor quis lorem eget vestibulum. Aenean vel lacinia orci, ac sollicitudin felis. Nunc eros libero, posuere nec massa ac, consectetur sollicitudin elit. Duis tincidunt nunc et neque egestas rhoncus. Curabitur ut euismod lorem, ut rutrum neque. Nullam at sem eros. Nam interdum lectus non cursus viverra.&lt;/p&gt;

&lt;p&gt;Duis eget magna at arcu tincidunt ultricies. Curabitur in facilisis sem, nec bibendum eros. Nunc fringilla imperdiet diam sed viverra. Vivamus lobortis dignissim mi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi laoreet eu diam eu pellentesque. Duis tempus metus urna, vel faucibus ligula pharetra euismod. Donec rhoncus blandit posuere. Mauris mattis dolor est, dictum venenatis augue facilisis sit amet. Ut ante odio, congue eget arcu nec, semper eleifend urna. Donec rutrum pretium odio non pellentesque. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nullam pellentesque nulla at tincidunt ultrices. Donec finibus malesuada magna. Phasellus eget tortor in lectus vehicula viverra sit amet sit amet purus.&lt;/p&gt;
</description>
        <pubDate>Fri, 23 Mar 2018 00:00:00 +0545</pubDate>
        <link>http://localhost:4000/news/2018/03/23/migration.html</link>
        <guid isPermaLink="true">http://localhost:4000/news/2018/03/23/migration.html</guid>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>Upgrade Oracle Database from 11g to 12c</title>
        <description>&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/pic03.jpg&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Morbi a semper justo, non eleifend elit. Sed nulla nulla, porttitor nec volutpat eu, pulvinar vitae augue. Curabitur tempor quis lorem eget vestibulum. Aenean vel lacinia orci, ac sollicitudin felis. Nunc eros libero, posuere nec massa ac, consectetur sollicitudin elit. Duis tincidunt nunc et neque egestas rhoncus. Curabitur ut euismod lorem, ut rutrum neque. Nullam at sem eros. Nam interdum lectus non cursus viverra.&lt;/p&gt;

&lt;p&gt;Duis eget magna at arcu tincidunt ultricies. Curabitur in facilisis sem, nec bibendum eros. Nunc fringilla imperdiet diam sed viverra. Vivamus lobortis dignissim mi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi laoreet eu diam eu pellentesque. Duis tempus metus urna, vel faucibus ligula pharetra euismod. Donec rhoncus blandit posuere. Mauris mattis dolor est, dictum venenatis augue facilisis sit amet. Ut ante odio, congue eget arcu nec, semper eleifend urna. Donec rutrum pretium odio non pellentesque. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nullam pellentesque nulla at tincidunt ultrices. Donec finibus malesuada magna. Phasellus eget tortor in lectus vehicula viverra sit amet sit amet purus.&lt;/p&gt;
</description>
        <pubDate>Wed, 20 Dec 2017 20:21:23 +0545</pubDate>
        <link>http://localhost:4000/upgrade/2017/12/20/mig.html</link>
        <guid isPermaLink="true">http://localhost:4000/upgrade/2017/12/20/mig.html</guid>
        
        
        <category>upgrade</category>
        
      </item>
    
      <item>
        <title>Morbi a Semper</title>
        <description>&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/pic03.jpg&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Morbi a semper justo, non eleifend elit. Sed nulla nulla, porttitor nec volutpat eu, pulvinar vitae augue. Curabitur tempor quis lorem eget vestibulum. Aenean vel lacinia orci, ac sollicitudin felis. Nunc eros libero, posuere nec massa ac, consectetur sollicitudin elit. Duis tincidunt nunc et neque egestas rhoncus. Curabitur ut euismod lorem, ut rutrum neque. Nullam at sem eros. Nam interdum lectus non cursus viverra.&lt;/p&gt;

&lt;p&gt;Duis eget magna at arcu tincidunt ultricies. Curabitur in facilisis sem, nec bibendum eros. Nunc fringilla imperdiet diam sed viverra. Vivamus lobortis dignissim mi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi laoreet eu diam eu pellentesque. Duis tempus metus urna, vel faucibus ligula pharetra euismod. Donec rhoncus blandit posuere. Mauris mattis dolor est, dictum venenatis augue facilisis sit amet. Ut ante odio, congue eget arcu nec, semper eleifend urna. Donec rutrum pretium odio non pellentesque. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nullam pellentesque nulla at tincidunt ultrices. Donec finibus malesuada magna. Phasellus eget tortor in lectus vehicula viverra sit amet sit amet purus.&lt;/p&gt;
</description>
        <pubDate>Wed, 20 Dec 2017 20:21:23 +0545</pubDate>
        <link>http://localhost:4000/news/2017/12/20/mig.html</link>
        <guid isPermaLink="true">http://localhost:4000/news/2017/12/20/mig.html</guid>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>Duis in purus</title>
        <description>&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/pic01.jpg&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Duis in purus sit amet elit ullamcorper venenatis vel a diam. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Donec dictum quam id ultricies dapibus. Donec rutrum pellentesque nisl, in bibendum erat imperdiet et. Maecenas eros lorem, dignissim in eros ut, consequat eleifend ante. Duis leo tortor, porttitor non ex ut, varius consectetur purus. Mauris vel erat risus. Nam convallis, lorem et tempus efficitur, nulla tortor efficitur sapien, ut pretium nisl turpis at purus. Nulla dui risus, suscipit nec tellus ac, aliquam finibus mi. Suspendisse accumsan, nisl a aliquet hendrerit, massa metus volutpat libero, et mollis lectus mauris et justo. Ut vitae est ut ligula sollicitudin blandit. Quisque egestas eleifend tortor, in finibus ex. Donec non orci quis odio porttitor mattis.&lt;/p&gt;

&lt;p&gt;Duis ut blandit lorem. Suspendisse potenti. Donec maximus blandit neque dapibus hendrerit. Praesent dignissim turpis eu nisl varius tempor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Curabitur in volutpat felis. Sed eget neque vel risus fermentum maximus a vel arcu. Vivamus non lorem mattis, vehicula metus eu, pellentesque mauris. Nunc fermentum efficitur justo, et rutrum mi finibus non. Sed vehicula eros id elit elementum rhoncus. Nullam quis tellus vitae metus eleifend pharetra eget interdum nulla. Integer sit amet imperdiet urna.&lt;/p&gt;

&lt;p&gt;Morbi a semper justo, non eleifend elit. Sed nulla nulla, porttitor nec volutpat eu, pulvinar vitae augue. Curabitur tempor quis lorem eget vestibulum. Aenean vel lacinia orci, ac sollicitudin felis. Nunc eros libero, posuere nec massa ac, consectetur sollicitudin elit. Duis tincidunt nunc et neque egestas rhoncus. Curabitur ut euismod lorem, ut rutrum neque. Nullam at sem eros. Nam interdum lectus non cursus viverra.&lt;/p&gt;

&lt;p&gt;Duis eget magna at arcu tincidunt ultricies. Curabitur in facilisis sem, nec bibendum eros. Nunc fringilla imperdiet diam sed viverra. Vivamus lobortis dignissim mi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi laoreet eu diam eu pellentesque. Duis tempus metus urna, vel faucibus ligula pharetra euismod. Donec rhoncus blandit posuere. Mauris mattis dolor est, dictum venenatis augue facilisis sit amet. Ut ante odio, congue eget arcu nec, semper eleifend urna. Donec rutrum pretium odio non pellentesque. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nullam pellentesque nulla at tincidunt ultrices. Donec finibus malesuada magna. Phasellus eget tortor in lectus vehicula viverra sit amet sit amet purus.&lt;/p&gt;
</description>
        <pubDate>Sun, 07 Sep 2014 20:21:23 +0545</pubDate>
        <link>http://localhost:4000/duis/2014/09/07/duis-in-purus.html</link>
        <guid isPermaLink="true">http://localhost:4000/duis/2014/09/07/duis-in-purus.html</guid>
        
        
        <category>Duis</category>
        
      </item>
    
      <item>
        <title>Morbi a Semper</title>
        <description>&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/pic03.jpg&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Morbi a semper justo, non eleifend elit. Sed nulla nulla, porttitor nec volutpat eu, pulvinar vitae augue. Curabitur tempor quis lorem eget vestibulum. Aenean vel lacinia orci, ac sollicitudin felis. Nunc eros libero, posuere nec massa ac, consectetur sollicitudin elit. Duis tincidunt nunc et neque egestas rhoncus. Curabitur ut euismod lorem, ut rutrum neque. Nullam at sem eros. Nam interdum lectus non cursus viverra.&lt;/p&gt;

&lt;p&gt;Duis eget magna at arcu tincidunt ultricies. Curabitur in facilisis sem, nec bibendum eros. Nunc fringilla imperdiet diam sed viverra. Vivamus lobortis dignissim mi. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi laoreet eu diam eu pellentesque. Duis tempus metus urna, vel faucibus ligula pharetra euismod. Donec rhoncus blandit posuere. Mauris mattis dolor est, dictum venenatis augue facilisis sit amet. Ut ante odio, congue eget arcu nec, semper eleifend urna. Donec rutrum pretium odio non pellentesque. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nullam pellentesque nulla at tincidunt ultrices. Donec finibus malesuada magna. Phasellus eget tortor in lectus vehicula viverra sit amet sit amet purus.&lt;/p&gt;
</description>
        <pubDate>Sun, 31 Aug 2014 20:21:23 +0545</pubDate>
        <link>http://localhost:4000/news/2014/08/31/morbi-a-semper.html</link>
        <guid isPermaLink="true">http://localhost:4000/news/2014/08/31/morbi-a-semper.html</guid>
        
        
        <category>news</category>
        
      </item>
    
      <item>
        <title>Lorem Ipsum</title>
        <description>&lt;p&gt;&lt;span class=&quot;image featured&quot;&gt;&lt;img src=&quot;/images/pic02.jpg&quot; alt=&quot;&quot; /&gt;&lt;/span&gt;
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse at metus augue. In fringilla nibh ac efficitur blandit. Nullam eu pretium mi. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Curabitur vulputate lacinia tortor, vel ultrices ligula. Etiam hendrerit aliquam tristique. Nulla tincidunt tortor id quam dignissim fermentum.&lt;/p&gt;

&lt;p&gt;Duis in purus sit amet elit ullamcorper venenatis vel a diam. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Donec dictum quam id ultricies dapibus. Donec rutrum pellentesque nisl, in bibendum erat imperdiet et. Maecenas eros lorem, dignissim in eros ut, consequat eleifend ante. Duis leo tortor, porttitor non ex ut, varius consectetur purus. Mauris vel erat risus. Nam convallis, lorem et tempus efficitur, nulla tortor efficitur sapien, ut pretium nisl turpis at purus. Nulla dui risus, suscipit nec tellus ac, aliquam finibus mi. Suspendisse accumsan, nisl a aliquet hendrerit, massa metus volutpat libero, et mollis lectus mauris et justo. Ut vitae est ut ligula sollicitudin blandit. Quisque egestas eleifend tortor, in finibus ex. Donec non orci quis odio porttitor mattis.&lt;/p&gt;

&lt;p&gt;Duis ut blandit lorem. Suspendisse potenti. Donec maximus blandit neque dapibus hendrerit. Praesent dignissim turpis eu nisl varius tempor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Curabitur in volutpat felis. Sed eget neque vel risus fermentum maximus a vel arcu. Vivamus non lorem mattis, vehicula metus eu, pellentesque mauris. Nunc fermentum efficitur justo, et rutrum mi finibus non. Sed vehicula eros id elit elementum rhoncus. Nullam quis tellus vitae metus eleifend pharetra eget interdum nulla. Integer sit amet imperdiet urna.&lt;/p&gt;

</description>
        <pubDate>Sun, 31 Aug 2014 20:21:23 +0545</pubDate>
        <link>http://localhost:4000/first-post.html</link>
        <guid isPermaLink="true">http://localhost:4000/first-post.html</guid>
        
        
        <category>news</category>
        
      </item>
    
  </channel>
</rss>
